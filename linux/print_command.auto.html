

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Print Command &mdash; VSI Common 0.2.2+1dev documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Python Tools" href="python_tools.auto.html" />
    <link rel="prev" title="Preisin" href="preisin.auto.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> VSI Common
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../just/index.html">J.U.S.T. Useful Simple Tasking</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Linux Utilities</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ask_question.auto.html">Ask Question</a></li>
<li class="toctree-l2"><a class="reference internal" href="bin_utils.auto.html">Binary Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="check_shell.auto.html">Check Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="circular_source.auto.html">Circular source</a></li>
<li class="toctree-l2"><a class="reference internal" href="colors.auto.html">Colors Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="command_tools.auto.html">Command Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="common_source.auto.html">Common Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="cuda_info.auto.html">CUDA Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="dir_tools.auto.html">Directory Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="elements.auto.html">Array Manipulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="file_tools.auto.html">File Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="findin.auto.html">Find In</a></li>
<li class="toctree-l2"><a class="reference internal" href="findinpaths.auto.html">Find In Paths</a></li>
<li class="toctree-l2"><a class="reference internal" href="git_airgap_submodule_helper.auto.html">Git Airgap Submodule Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="git_mirror.auto.html">Git Mirror</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_names.auto.html">Group Names</a></li>
<li class="toctree-l2"><a class="reference internal" href="inisin.auto.html">In Is In</a></li>
<li class="toctree-l2"><a class="reference internal" href="isin.auto.html">Is In</a></li>
<li class="toctree-l2"><a class="reference internal" href="linux_accounts.auto.html">Linux Accounts</a></li>
<li class="toctree-l2"><a class="reference internal" href="lwhich.auto.html">Lwhich</a></li>
<li class="toctree-l2"><a class="reference internal" href="mount_tools.auto.html">Mount Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="parser.auto.html">Parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdbd.auto.html">PBDB - Primitive Bash Debugger</a></li>
<li class="toctree-l2"><a class="reference internal" href="picker.auto.html">Picker</a></li>
<li class="toctree-l2"><a class="reference internal" href="pipenv_functions.auto.html">Pipenv Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="postisin.auto.html">Postisin</a></li>
<li class="toctree-l2"><a class="reference internal" href="preisin.auto.html">Preisin</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Print Command</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_tools.auto.html">Python Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="quotemire.auto.html">Quotemire</a></li>
<li class="toctree-l2"><a class="reference internal" href="random.auto.html">Random</a></li>
<li class="toctree-l2"><a class="reference internal" href="real_path.auto.html">Real Path</a></li>
<li class="toctree-l2"><a class="reference internal" href="requirements.auto.html">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="set_flags.auto.html">Set Flags</a></li>
<li class="toctree-l2"><a class="reference internal" href="signal_tools.auto.html">String Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="source_once.auto.html">Source once</a></li>
<li class="toctree-l2"><a class="reference internal" href="string_tools.auto.html">String Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="time_tools.auto.html">Time Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="uwecho.auto.html">Unwrapping Echo</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_tools.auto.html">Web Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="yarp.auto.html">Yarp</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_scripts/modules.html">Pyhton Scripts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../windows/index.html">Windows Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tests/index.html">Unit Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/modules.html">vsi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker/recipes/get-pipenv.auto.html">Get Pipenv</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker/recipes/index.html">Docker recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../style.html">Contributing Style Guide</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">VSI Common</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Linux Utilities</a> &raquo;</li>
        
      <li>Print Command</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/linux/print_command.auto.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="print-command">
<h1>Print Command<a class="headerlink" href="#print-command" title="Permalink to this headline">¶</a></h1>
<dl class="bash file">
<dt id="file-print_command">
<code class="sig-name descname">print_command</code><a class="headerlink" href="#file-print_command" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">$1</span></code>… - List of command + arguments to be echoed</p>
</dd>
<dt class="field-even">Output</dt>
<dd class="field-even"><p><em>stdout</em> - A quote escaped version of the command + arguments, ready for <code class="docutils literal notranslate"><span class="pre">eval</span></code></p>
</dd>
</dl>
<p>Bash CLI version of <a class="reference internal" href="#function-print_command print_command"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">print_command</span></code></a></p>
<dl class="bash function">
<dt id="function-print_command print_command">
<code class="sig-name descname">print_command</code><a class="headerlink" href="#function-print_command print_command" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">$1</span></code>… - List of command + arguments to be echoed</p>
</dd>
<dt class="field-even">Output</dt>
<dd class="field-even"><p><em>stdout</em> - A quote escaped version of the command + arguments, ready for <code class="docutils literal notranslate"><span class="pre">eval</span></code></p>
</dd>
<dt class="field-odd">Uses</dt>
<dd class="field-odd"><p><a class="reference internal" href="string_tools.auto.html#function-string_tools.bsh quote_escape"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">string_tools.bsh</span> <span class="pre">quote_escape</span></code></a></p>
</dd>
</dl>
<p>Accurately echoes out a properly escaped single string representation of a command + arguments.</p>
<p class="rubric">Example</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>print_command this is a t<span class="se">\ </span>e<span class="se">\ \ </span>s<span class="se">\&#39;\&quot;</span>t

<span class="c1"># Results in</span>
this is a <span class="s1">&#39;t e  s&#39;</span><span class="s2">&quot;&#39;&quot;</span><span class="s1">&#39;&quot;t&#39;</span>

<span class="c1"># Typical usage</span>
<span class="nb">eval</span> <span class="s2">&quot;</span><span class="k">$(</span>print_command <span class="s2">&quot;</span><span class="si">${</span><span class="nv">stuff</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span>
or
bash -c <span class="s2">&quot;</span><span class="k">$(</span>print_command <span class="s2">&quot;</span><span class="si">${</span><span class="nv">stuff</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#function-print_command print_command_env"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">print_command_env</span></code></a></dt><dd><p>Version that captures changes in the environment</p>
</dd>
</dl>
</div>
<dl class="bash function">
<dt id="function-print_command print_command_save_env">
<code class="sig-name descname">print_command_save_env</code><a class="headerlink" href="#function-print_command print_command_save_env" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Sets the saved version of the environment, to compare with when calling <a class="reference internal" href="#function-print_command print_command_env"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">print_command_env</span></code></a></p>
<p><a class="reference internal" href="#function-print_command print_command_env"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">print_command_env</span></code></a> needs a before version of the environment, to compare with so it will know which environment variables changes. The only “optional variable assignments” or exported variables that will not be captures, are ones set the same value they already have.</p>
<dl class="bash function">
<dt id="function-print_command print_command_env">
<code class="sig-name descname">print_command_env</code><a class="headerlink" href="#function-print_command print_command_env" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">$1</span></code>… - List of command + arguments to be echoed</p>
</dd>
<dt class="field-even">Output</dt>
<dd class="field-even"><p><em>stdout</em> - A quote escaped version of the command + arguments, ready for <code class="docutils literal notranslate"><span class="pre">eval</span></code></p>
</dd>
<dt class="field-odd">Uses</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="string_tools.auto.html#function-string_tools.bsh quote_escape"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">string_tools.bsh</span> <span class="pre">quote_escape</span></code></a></p></li>
<li><p><a class="reference internal" href="#function-print_command print_command"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">print_command</span></code></a></p></li>
</ul>
</dd>
</dl>
<p>Accurately echoes out a properly escaped single string representation of a command + arguments, including any “optional variable assignments” and exported environment variables.</p>
<p>When <a class="reference internal" href="#function-print_command print_command_save_env"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">print_command_save_env</span></code></a> is called, the environment is saved and any changes made to the environment from then on, are captures in a call to <a class="reference internal" href="#function-print_command print_command_env"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">print_command_env</span></code></a></p>
<p class="rubric">Example</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">A</span><span class="o">=</span><span class="m">1</span>
<span class="nb">export</span> <span class="nv">B</span><span class="o">=</span><span class="m">2</span>

<span class="k">function</span> foo<span class="o">()</span>
<span class="o">{</span>
  <span class="si">${</span><span class="nv">DRYRUN</span><span class="si">}</span> some <span class="nb">command</span> <span class="si">${</span><span class="p">@+</span><span class="s2">&quot;</span><span class="si">${</span><span class="p">@</span><span class="si">}</span><span class="s2">&quot;</span><span class="si">}</span>
<span class="o">}</span>

print_command_save_env
<span class="nb">export</span> <span class="nv">DRYRUN</span><span class="o">=</span>print_command

<span class="c1"># ...</span>

foo -e <span class="nv">q</span><span class="o">=</span><span class="m">5</span>
<span class="c1"># some command -e q=5</span>
<span class="nv">A</span><span class="o">=</span><span class="m">2</span> foo -t
<span class="c1"># A=2 some command -t</span>
<span class="nv">B</span><span class="o">=</span><span class="m">2</span> foo -f
<span class="c1"># some command -f</span>
<span class="nb">unset</span> A<span class="p">;</span> foo -y
<span class="c1"># (unset A; some command -y)</span>
<span class="nb">export</span> <span class="nv">A</span><span class="o">=</span><span class="m">1</span>
<span class="nb">export</span> <span class="nv">C</span><span class="o">=</span><span class="m">4</span>
foo c
<span class="c1"># C=4 some command c</span>
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="python_tools.auto.html" class="btn btn-neutral float-right" title="Python Tools" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="preisin.auto.html" class="btn btn-neutral float-left" title="Preisin" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Vision Systems, Inc

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>