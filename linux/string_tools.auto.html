

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>String Tools &mdash; VSI Common 0.2.2+1dev documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Time Tools" href="time_tools.auto.html" />
    <link rel="prev" title="Source once" href="source_once.auto.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> VSI Common
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../just/index.html">J.U.S.T. Useful Simple Tasking</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Linux Utilities</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="aliases.auto.html">Executable Aliases</a></li>
<li class="toctree-l2"><a class="reference internal" href="ask_question.auto.html">Ask Question</a></li>
<li class="toctree-l2"><a class="reference internal" href="bash_utils.auto.html">Bash Utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="bin_utils.auto.html">Binary Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="check_shell.auto.html">Check Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="circular_source.auto.html">Circular source</a></li>
<li class="toctree-l2"><a class="reference internal" href="colors.auto.html">Colors Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="command_tools.auto.html">Command Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="common_source.auto.html">Common Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="compat.auto.html">Compatibility Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="compat_singularity.auto.html">Singularity Compatibility Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="cuda_info.auto.html">CUDA Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="dir_tools.auto.html">Directory Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="elements.auto.html">Array Manipulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="file_tools.auto.html">File Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="findin.auto.html">Find In</a></li>
<li class="toctree-l2"><a class="reference internal" href="findinpaths.auto.html">Find In Paths</a></li>
<li class="toctree-l2"><a class="reference internal" href="git_airgap_submodule_helper.auto.html">Git Airgap Submodule Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="git_functions.auto.html">Git Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="git_mirror.auto.html">Git Mirror</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_names.auto.html">Group Names</a></li>
<li class="toctree-l2"><a class="reference internal" href="inisin.auto.html">In Is In</a></li>
<li class="toctree-l2"><a class="reference internal" href="isin.auto.html">Is In</a></li>
<li class="toctree-l2"><a class="reference internal" href="linux_accounts.auto.html">Linux Accounts</a></li>
<li class="toctree-l2"><a class="reference internal" href="lwhich.auto.html">Lwhich</a></li>
<li class="toctree-l2"><a class="reference internal" href="mount_tools.auto.html">Mount Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="nvidia_tools.auto.html">NVIDIA TOOLS</a></li>
<li class="toctree-l2"><a class="reference internal" href="parser.auto.html">Parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdbd.auto.html">PBDB - Primitive Bash Debugger</a></li>
<li class="toctree-l2"><a class="reference internal" href="picker.auto.html">Picker</a></li>
<li class="toctree-l2"><a class="reference internal" href="pipenv_functions.auto.html">Pipenv Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="portable_patch.auto.html">Poratble Patch</a></li>
<li class="toctree-l2"><a class="reference internal" href="postisin.auto.html">Postisin</a></li>
<li class="toctree-l2"><a class="reference internal" href="preisin.auto.html">Preisin</a></li>
<li class="toctree-l2"><a class="reference internal" href="print_command.auto.html">Print Command</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_tools.auto.html">Python Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="quotemire.auto.html">Quotemire</a></li>
<li class="toctree-l2"><a class="reference internal" href="random.auto.html">Random</a></li>
<li class="toctree-l2"><a class="reference internal" href="real_path.auto.html">Real Path</a></li>
<li class="toctree-l2"><a class="reference internal" href="reisin.auto.html">Regular Expression Is In</a></li>
<li class="toctree-l2"><a class="reference internal" href="requirements.auto.html">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="set_flags.auto.html">Set Flags</a></li>
<li class="toctree-l2"><a class="reference internal" href="signal_tools.auto.html">String Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="source_once.auto.html">Source once</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">String Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="time_tools.auto.html">Time Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="uwecho.auto.html">Unwrapping Echo</a></li>
<li class="toctree-l2"><a class="reference internal" href="versions.auto.html">Versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_tools.auto.html">Web Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="yarp.auto.html">Yarp</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_scripts/modules.html">Pyhton Scripts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../windows/index.html">Windows Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tests/index.html">Unit Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/modules.html">vsi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker/recipes/get-pipenv.auto.html">Get Pipenv</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker/recipes/index.html">Docker recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../style.html">Contributing Style Guide</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">VSI Common</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Linux Utilities</a> &raquo;</li>
        
      <li>String Tools</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/linux/string_tools.auto.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="string-tools">
<h1>String Tools<a class="headerlink" href="#string-tools" title="Permalink to this headline">¶</a></h1>
<dl class="bash file">
<dt id="file-string_tools.bsh">
<code class="sig-name descname"><span class="pre">string_tools.bsh</span></code><a class="headerlink" href="#file-string_tools.bsh" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="bash function">
<dt id="function-string_tools.bsh ltrim">
<code class="sig-name descname"><span class="pre">ltrim</span></code><a class="headerlink" href="#function-string_tools.bsh ltrim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - String to trim</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">$2</span></code>] - Characters to trim. Default: [<code class="docutils literal notranslate"><span class="pre">:space:</span></code>]</p></li>
</ul>
</dd>
<dt class="field-even">Output</dt>
<dd class="field-even"><p><em>stdout</em> - The trimmed string</p>
</dd>
</dl>
<p>Left trim a string</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#function-string_tools.bsh trim"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">trim</span></code></a> Trim from both ends in one call</p>
</div>
<dl class="bash function">
<dt id="function-string_tools.bsh rtrim">
<code class="sig-name descname"><span class="pre">rtrim</span></code><a class="headerlink" href="#function-string_tools.bsh rtrim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - String to trim</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">$2</span></code>] - Characters to trim. Default: [<code class="docutils literal notranslate"><span class="pre">:space:</span></code>]</p></li>
</ul>
</dd>
<dt class="field-even">Output</dt>
<dd class="field-even"><p><em>stdout</em> - The trimmed string</p>
</dd>
</dl>
<p>Right trim a string</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#function-string_tools.bsh trim"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">trim</span></code></a> Trim from both ends in one call</p>
</div>
<dl class="bash function">
<dt id="function-string_tools.bsh trim">
<code class="sig-name descname"><span class="pre">trim</span></code><a class="headerlink" href="#function-string_tools.bsh trim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - String to trim</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">$2</span></code>] - Characters to trim. Default: [<code class="docutils literal notranslate"><span class="pre">:space:</span></code>]. Can be another character or character classes, such as: alnum alpha ascii blank cntrl digit graph lower print punct space upper word xdigit. For multiple characters/classes, use standard pattern matching syntax, minus the []</p></li>
</ul>
</dd>
<dt class="field-even">Output</dt>
<dd class="field-even"><p><em>stdout</em> - The trimmed string</p>
</dd>
</dl>
<p>Trim a string</p>
<p class="rubric">Example</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>trim <span class="s1">&#39; abcAcba &#39;</span> <span class="c1"># Trim the spaces</span>
Result: <span class="s1">&#39;abcAbca&#39;</span>

trim <span class="s1">&#39;abcAcba&#39;</span> a <span class="c1"># Trims the letter a off</span>
Result: <span class="s1">&#39;bcAcb&#39;</span>

trim <span class="s1">&#39;abcAcba&#39;</span> <span class="o">[</span>:lower:<span class="o">]</span> <span class="c1"># Trims lowercase letters</span>
Result: <span class="s1">&#39;A&#39;</span>

trim <span class="s1">&#39;abcdAdcba&#39;</span> a-c <span class="c1"># Trims range a-c</span>
Result: <span class="s1">&#39;dAd&#39;</span>

trim <span class="s1">&#39;aebcAcbea&#39;</span> aeiou <span class="c1"># Trims vowels</span>
Result: <span class="s1">&#39;bcAcb&#39;</span>

See Bash man on <span class="s2">&quot;Pattern Matching&quot;</span> <span class="k">for</span> more possibilities. <span class="nv">$2</span> is essentially
placed inside a <span class="nb">set</span> of <span class="o">[]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#function-string_tools.bsh ltrim"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">ltrim</span></code></a> Trim only from the left
<a class="reference internal" href="#function-string_tools.bsh rtrim"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">rtrim</span></code></a> Trim only from the right</p>
</div>
<dl class="bash function">
<dt id="function-string_tools.bsh quote_escape">
<code class="sig-name descname"><span class="pre">quote_escape</span></code><a class="headerlink" href="#function-string_tools.bsh quote_escape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - String to escape</p></li>
</ul>
</dd>
<dt class="field-even">Output</dt>
<dd class="field-even"><p><em>stdout</em> - The string with ‘ escaped properly</p>
</dd>
</dl>
<p>Properly escape string for bash, adds ‘ for you, does not need extra quotes added to string. Useful for printing out instructions that are meant to be copy and pasted, no matter what characters are in the string. Also useful for <code class="docutils literal notranslate"><span class="pre">eval</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">printf</span> <span class="pre">'%q'</span> <span class="pre">&quot;${foo}&quot;</span></code> does not always work exactly as intended with <code class="docutils literal notranslate"><span class="pre">eval</span></code> on bash 3.2. Either the <code class="docutils literal notranslate"><span class="pre">\</span></code> is not expanded when double quotes are uses, or <code class="docutils literal notranslate"><span class="pre">~</span></code> is expanded without double quotes. With this function, no bash expansion ever occurs.</p>
<p>Quotes do not need to be added to any expression, as <code class="docutils literal notranslate"><span class="pre">'</span></code> are added for you.</p>
<p class="rubric">Example</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">eval</span> <span class="s2">&quot;x=</span><span class="k">$(</span>quote_escape <span class="s2">&quot;Hi \&quot;  &#39;ya \&quot;&quot;</span><span class="k">)</span><span class="s2">&quot;</span> <span class="c1"># &lt;-- Never add quotes after the =</span>
<span class="o">[</span> <span class="s2">&quot;</span><span class="si">${</span><span class="nv">x</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">=</span> <span class="s2">&quot;Hi \&quot;  &#39;ya \&quot;&quot;</span> <span class="o">]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#function-string_tools.bsh quote_substitute_escape"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">quote_substitute_escape</span></code></a> for use in <code class="docutils literal notranslate"><span class="pre">${x-something}</span></code></p>
</div>
<dl class="bash function">
<dt id="function-string_tools.bsh quote_unescape">
<code class="sig-name descname"><span class="pre">quote_unescape</span></code><a class="headerlink" href="#function-string_tools.bsh quote_unescape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - String to unescape</p></li>
</ul>
</dd>
<dt class="field-even">Output</dt>
<dd class="field-even"><p><em>stdout</em> - Unescaped string</p>
</dd>
</dl>
<p>Unquote a string quoted using bashes rules for quotes, without using eval.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">trap</span> <span class="pre">-p</span></code> command outputs string using the single quote notation and only escapes <code class="docutils literal notranslate"><span class="pre">'</span></code>, while <code class="docutils literal notranslate"><span class="pre">declare</span> <span class="pre">-p</span></code> used the double quote notation and only has to escape <code class="docutils literal notranslate"><span class="pre">\`$&quot;</span></code>. Only these escape characters are supported, all other escapes will be left in.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This only works for specific single quoted strings, like that outputted from <a class="reference internal" href="#function-string_tools.bsh quote_escape"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">quote_escape</span></code></a>. Mixing a string with <code class="docutils literal notranslate"><span class="pre">&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">$'</span></code> will result in error. The only concatenation of two strings supported is <code class="docutils literal notranslate"><span class="pre">'\''</span></code>.</p>
</div>
<dl class="bash function">
<dt id="function-string_tools.bsh quote_substitute_escape">
<code class="sig-name descname"><span class="pre">quote_substitute_escape</span></code><a class="headerlink" href="#function-string_tools.bsh quote_substitute_escape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - String to escape</p></li>
</ul>
</dd>
<dt class="field-even">Output</dt>
<dd class="field-even"><p><em>stdout</em> - The string escaped properly</p>
</dd>
</dl>
<p>Similar to <a class="reference internal" href="#function-string_tools.bsh quote_escape"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">quote_escape</span></code></a>, but can be used in the same use cases as <a class="reference internal" href="#function-string_tools.bsh quote_escape"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">quote_escape</span></code></a> and for variable substitution, e.g. the <code class="docutils literal notranslate"><span class="pre">bar</span></code> in <code class="docutils literal notranslate"><span class="pre">${foo-bar}</span></code>.</p>
<p>Unlike <a class="reference internal" href="#function-string_tools.bsh quote_escape"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">quote_escape</span></code></a>, quotes do need to be added to any expression. This is because quotes can be added outside the evaluation point of <a class="reference internal" href="#function-string_tools.bsh quote_substitute_escape"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">quote_substitute_escape</span></code></a>.</p>
<p class="rubric">Example</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">unset</span> y
<span class="nb">eval</span> <span class="s2">&quot;x=\&quot;</span><span class="si">${</span><span class="nv">y</span><span class="p">-</span><span class="k">$(</span>quote_substitute_escape <span class="s2">&quot;Hi \&quot;  &#39;ya \&quot;&quot;</span><span class="k">)</span><span class="si">}</span><span class="s2">\&quot;&quot;</span> <span class="c1"># &lt;-- Need the \&quot;</span>
<span class="c1"># Always add the \&quot; after the =</span>
<span class="o">[</span> <span class="s2">&quot;</span><span class="si">${</span><span class="nv">x</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">=</span> <span class="s1">&#39;Hi &quot;  &#39;</span><span class="se">\&#39;</span><span class="s1">&#39;ya &quot;&#39;</span> <span class="o">]</span>

<span class="c1">#also</span>

<span class="nb">eval</span> <span class="s2">&quot;x=\&quot;</span><span class="k">$(</span>quote_substitute_escape <span class="s2">&quot;Hi \&quot;  &#39;ya \&quot;&quot;</span><span class="k">)</span><span class="s2">\&quot;&quot;</span> <span class="c1"># &lt;-- Need the \&quot;</span>
<span class="o">[</span> <span class="s2">&quot;</span><span class="si">${</span><span class="nv">x</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">=</span> <span class="s1">&#39;Hi &quot;  &#39;</span><span class="se">\&#39;</span><span class="s1">&#39;ya &quot;&#39;</span> <span class="o">]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#function-string_tools.bsh quote_escape"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">quote_escape</span></code></a> for the more generic case not in <code class="docutils literal notranslate"><span class="pre">${}</span></code></p>
</div>
<dl class="bash function">
<dt id="function-string_tools.bsh regex_escape">
<code class="sig-name descname"><span class="pre">regex_escape</span></code><a class="headerlink" href="#function-string_tools.bsh regex_escape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - String to escape</p></li>
</ul>
</dd>
<dt class="field-even">Output</dt>
<dd class="field-even"><p><em>stdout</em> - The escaped string</p>
</dd>
</dl>
<p>Adds ‘' to the string, so it can be used as a literal string in a regex expression, assuming / is the search command separator</p>
<dl class="bash var">
<dt id="var-string_tools.bsh regex_escape regex_escape_threshold">
<code class="sig-name descname"><span class="pre">regex_escape_threshold</span></code><a class="headerlink" href="#var-string_tools.bsh regex_escape regex_escape_threshold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The length threshold between using the pure bash version and sed version to. Set to 600 on Windows, else 50</p>
<p class="rubric">Example</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ regex_escape <span class="s1">&#39;***TEST***&#39;</span>
<span class="se">\*\*\*</span>TEST<span class="se">\*\*\*</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>An extra newline always shows up at the end, just like <cite>echo</cite> (without <cite>-n</cite>) would.
Only works for Basic Regex Expressions (BRE). A different function/flag would be needed for extended, as the rules are incompatible with each other (for example <code class="docutils literal notranslate"><span class="pre">()</span></code>)</p>
</div>
<dl class="bash function">
<dt id="function-string_tools.bsh regex_escape_range">
<code class="sig-name descname"><span class="pre">regex_escape_range</span></code><a class="headerlink" href="#function-string_tools.bsh regex_escape_range" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - String to escape</p></li>
</ul>
</dd>
<dt class="field-even">Output</dt>
<dd class="field-even"><p><em>stdout</em> - The escaped string range, including []</p>
</dd>
</dl>
<p>Adds ‘' to the string, so it can be used as a literal string in a regex expression as a character range. Basically this handles the special cases for <code class="docutils literal notranslate"><span class="pre">^</span></code>, <code class="docutils literal notranslate"><span class="pre">-</span></code>, and <code class="docutils literal notranslate"><span class="pre">]</span></code></p>
<p class="rubric">Example</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ regex_escape_range <span class="s1">&#39;^hk]&#39;</span>
<span class="o">[]</span>hk^<span class="o">]</span>
</pre></div>
</div>
<dl class="bash function">
<dt id="function-string_tools.bsh uppercase">
<code class="sig-name descname"><span class="pre">uppercase</span></code><a class="headerlink" href="#function-string_tools.bsh uppercase" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - String to convert</p></li>
</ul>
</dd>
<dt class="field-even">Output</dt>
<dd class="field-even"><p><em>stdout</em> - String in uppercase</p>
</dd>
</dl>
<p>Converts a string to uppercase, using <code class="docutils literal notranslate"><span class="pre">bash</span></code> or <code class="docutils literal notranslate"><span class="pre">tr</span></code></p>
<dl class="bash function">
<dt id="function-string_tools.bsh lowercase">
<code class="sig-name descname"><span class="pre">lowercase</span></code><a class="headerlink" href="#function-string_tools.bsh lowercase" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - String to convert</p></li>
</ul>
</dd>
<dt class="field-even">Output</dt>
<dd class="field-even"><p><em>stdout</em> - String in lowercase</p>
</dd>
</dl>
<p>Converts a string to lowercase, using <code class="docutils literal notranslate"><span class="pre">bash</span></code> or <code class="docutils literal notranslate"><span class="pre">tr</span></code></p>
<dl class="bash function">
<dt id="function-string_tools.bsh null_dump">
<code class="sig-name descname"><span class="pre">null_dump</span></code><a class="headerlink" href="#function-string_tools.bsh null_dump" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - Header string</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$2</span></code> - Name of array to be dumped</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">$3</span></code>…] - Repeat <code class="docutils literal notranslate"><span class="pre">$1</span></code> and <code class="docutils literal notranslate"><span class="pre">$2</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Output</dt>
<dd class="field-even"><p><em>stdout</em> - Null separated dump of data</p>
</dd>
</dl>
<p>Prints out multiple arrays, using a null separated schema.</p>
<p>Uses of two two-byte control words, null+carat <code class="docutils literal notranslate"><span class="pre">\0^</span></code> between headers (array names), and null+period <code class="docutils literal notranslate"><span class="pre">\0.</span></code> between data elements. First prints out the header, than null+carat, then each element of the array, separated by null+period. Then a null+carat between the last element, and the next header, and repeats. Does not add extra control words to the end.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># An empty set, with the header foo</span>
<span class="n">foo</span>\<span class="mi">0</span><span class="o">^</span>
<span class="c1"># Two empty sets, with the headers foo and bar</span>
<span class="n">foo</span>\<span class="mi">0</span><span class="o">^</span>\<span class="mi">0</span><span class="o">^</span><span class="n">bar</span>\<span class="mi">0</span><span class="o">^</span>
<span class="c1"># Two set with the headers foo and bar</span>
<span class="n">foo</span>\<span class="mi">0</span><span class="o">^</span><span class="n">boo</span>\<span class="mf">0.</span><span class="n">shoe</span>\<span class="mf">0.</span><span class="n">two</span>\<span class="mi">0</span><span class="o">^</span><span class="n">bar</span>\<span class="mi">0</span><span class="o">^</span><span class="n">car</span>\<span class="mf">0.</span><span class="n">sar</span>
<span class="c1"># One set whose last two elements are empty</span>
<span class="n">foo</span>\<span class="mi">0</span><span class="o">^</span><span class="n">bar</span>\<span class="mf">0.</span><span class="n">car</span>\<span class="mf">0.</span><span class="n">sar</span>\<span class="mf">0.</span>\<span class="mf">0.</span>
</pre></div>
</div>
<p class="rubric">Parsing scheme</p>
<ol class="arabic simple">
<li><p>Split by <code class="docutils literal notranslate"><span class="pre">\0^</span></code>. Now you have a list alternating (header, data, header, data, …)</p></li>
<li><p>Split data by <code class="docutils literal notranslate"><span class="pre">\0.</span></code> and you have the array elements again.</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\0</span><span class="s1">^&#39;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">([</span><span class="n">header</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span> <span class="k">for</span> <span class="n">header</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[::</span><span class="mi">2</span><span class="p">]],</span>
    <span class="p">[[</span><span class="n">chunk</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span> <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">group</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\0</span><span class="s1">.&#39;</span><span class="p">)]</span> <span class="k">for</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">]]))</span>
</pre></div>
</div>
<dl class="bash function">
<dt id="function-string_tools.bsh _null_dump">
<code class="sig-name descname"><span class="pre">_null_dump</span></code><a class="headerlink" href="#function-string_tools.bsh _null_dump" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - Header string</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$2</span></code> - Array name</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">$3</span></code>] - Last(1), default 0. Set to 1 if this is the last group</p></li>
</ul>
</dd>
<dt class="field-even">Output</dt>
<dd class="field-even"><ul class="simple">
<li><p><em>stdout</em> - Null separated dump of one group of data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_null_dump_first_line</span></code> - Used to track if this is the first group or not, automatically set for you, but you will need to clear it before starting a new datadump.</p></li>
</ul>
</dd>
</dl>
<p>Internal function. Prints one group. Must be combined with all the calls to get the proper number of nulls between groups. (The two nulls between groups are split among calls to <a class="reference internal" href="#function-string_tools.bsh _null_dump"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">_null_dump</span></code></a></p>
<p><em>Can</em> be called manually.</p>
<dl class="bash function">
<dt id="function-string_tools.bsh strip_ansi">
<code class="sig-name descname"><span class="pre">strip_ansi</span></code><a class="headerlink" href="#function-string_tools.bsh strip_ansi" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Removes ANSI codes from a string</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code>… - Strings to be concatenated (space separated).</p></li>
</ul>
</dd>
<dt class="field-even">Output</dt>
<dd class="field-even"><p><em>stdout</em> - The ANSI Free string</p>
</dd>
</dl>
<p>Removes any ANSI CSI, OSC, ST, DCS, SOS, PM, or APC codes. All other ANSI codes are removed assuming there are no data bytes. If any of the “other” codes do have data bytes, they will leak into the output.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#function-string_tools.bsh strip_ansi_stream"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">strip_ansi_stream</span></code></a></p>
</div>
<dl class="bash function">
<dt id="function-string_tools.bsh strip_ansi_stream">
<code class="sig-name descname"><span class="pre">strip_ansi_stream</span></code><a class="headerlink" href="#function-string_tools.bsh strip_ansi_stream" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Streaming version of <a class="reference internal" href="#function-string_tools.bsh strip_ansi"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">strip_ansi</span></code></a>, using <code class="docutils literal notranslate"><span class="pre">stdin</span></code>.</p>
<dl class="bash function">
<dt id="function-string_tools.bsh find_any_hash_func">
<code class="sig-name descname"><span class="pre">find_any_hash_func</span></code><a class="headerlink" href="#function-string_tools.bsh find_any_hash_func" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Calls a hash function, does not matter what algorithm is used. Tries sha256 and works its way down to md5. Should work on Linux, Windows, and macOS.</p>
<p>Only useful when you don’t care what algorithm is used, only that you need a hash.</p>
<p class="rubric">Example</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">checksum</span><span class="o">=(</span><span class="nb">echo</span> hi <span class="p">|</span> find_any_hash_func<span class="o">)</span>
<span class="nb">echo</span> <span class="s2">&quot;A checksum is </span><span class="si">${</span><span class="nv">checksum</span><span class="p">[0]</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>
</div>
<dl class="bash var">
<dt id="var-string_tools.bsh find_any_hash_func does_not_needs_quote_escape_regex">
<code class="sig-name descname"><span class="pre">does_not_needs_quote_escape_regex</span></code><a class="headerlink" href="#var-string_tools.bsh find_any_hash_func does_not_needs_quote_escape_regex" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A regex to determine if a string needs to be <a class="reference internal" href="#function-string_tools.bsh quote_escape"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">string_tools.bsh</span> <span class="pre">quote_escape</span></code></a>’d or not, in order to executed via copy and paste of print_command.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://unix.stackexchange.com/a/357932/123413">https://unix.stackexchange.com/a/357932/123413</a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="time_tools.auto.html" class="btn btn-neutral float-right" title="Time Tools" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="source_once.auto.html" class="btn btn-neutral float-left" title="Source once" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Vision Systems, Inc.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>