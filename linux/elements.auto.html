<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Array Manipulation &mdash; VSI Common 0.2.2+1dev documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="File Tools" href="file_tools.auto.html" />
    <link rel="prev" title="Directory Tools" href="dir_tools.auto.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            VSI Common
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../just/index.html">J.U.S.T. Useful Simple Tasking</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Linux Utilities</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="aliases.auto.html">Executable Aliases</a></li>
<li class="toctree-l2"><a class="reference internal" href="ask_question.auto.html">Ask Question</a></li>
<li class="toctree-l2"><a class="reference internal" href="bash_utils.auto.html">Bash Utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="bin_utils.auto.html">Binary Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="check_shell.auto.html">Check Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="circular_source.auto.html">Circular source</a></li>
<li class="toctree-l2"><a class="reference internal" href="colors.auto.html">Colors Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="command_tools.auto.html">Command Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="common_source.auto.html">Common Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="compat.auto.html">Compatibility Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="compat_singularity.auto.html">Singularity Compatibility Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="cuda_info.auto.html">CUDA Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="dir_tools.auto.html">Directory Tools</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Array Manipulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="file_tools.auto.html">File Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="findin.auto.html">Find In</a></li>
<li class="toctree-l2"><a class="reference internal" href="findinpaths.auto.html">Find In Paths</a></li>
<li class="toctree-l2"><a class="reference internal" href="git_airgap_submodule_helper.auto.html">Git Airgap Submodule Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="git_commit_description.auto.html">Git Commit Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="git_functions.auto.html">Git Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="git_mirror.auto.html">Git Mirror</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_names.auto.html">Group Names</a></li>
<li class="toctree-l2"><a class="reference internal" href="inisin.auto.html">In Is In</a></li>
<li class="toctree-l2"><a class="reference internal" href="isin.auto.html">Is In</a></li>
<li class="toctree-l2"><a class="reference internal" href="linux_accounts.auto.html">Linux Accounts</a></li>
<li class="toctree-l2"><a class="reference internal" href="lwhich.auto.html">Lwhich</a></li>
<li class="toctree-l2"><a class="reference internal" href="mount_tools.auto.html">Mount Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="nvidia_tools.auto.html">NVIDIA TOOLS</a></li>
<li class="toctree-l2"><a class="reference internal" href="parser.auto.html">Parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdbd.auto.html">PBDB - Primitive Bash Debugger</a></li>
<li class="toctree-l2"><a class="reference internal" href="picker.auto.html">Picker</a></li>
<li class="toctree-l2"><a class="reference internal" href="pipenv_functions.auto.html">Pipenv Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="portable_patch.auto.html">Poratble Patch</a></li>
<li class="toctree-l2"><a class="reference internal" href="postisin.auto.html">Postisin</a></li>
<li class="toctree-l2"><a class="reference internal" href="preisin.auto.html">Preisin</a></li>
<li class="toctree-l2"><a class="reference internal" href="print_command.auto.html">Print Command</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_tools.auto.html">Python Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="quotemire.auto.html">Quotemire</a></li>
<li class="toctree-l2"><a class="reference internal" href="random.auto.html">Random</a></li>
<li class="toctree-l2"><a class="reference internal" href="real_path.auto.html">Real Path</a></li>
<li class="toctree-l2"><a class="reference internal" href="reisin.auto.html">Regular Expression Is In</a></li>
<li class="toctree-l2"><a class="reference internal" href="requirements.auto.html">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="set_flags.auto.html">Set Flags</a></li>
<li class="toctree-l2"><a class="reference internal" href="signal_tools.auto.html">String Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="source_once.auto.html">Source once</a></li>
<li class="toctree-l2"><a class="reference internal" href="string_tools.auto.html">String Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="time_tools.auto.html">Time Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="uwecho.auto.html">Unwrapping Echo</a></li>
<li class="toctree-l2"><a class="reference internal" href="versions.auto.html">Versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_tools.auto.html">Web Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="yarp.auto.html">Yarp</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_scripts/modules.html">Pyhton Scripts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../windows/index.html">Windows Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tests/index.html">Unit Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/modules.html">vsi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker/recipes/get-pipenv.auto.html">Get Pipenv</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker/recipes/pip-8210.auto.html">pip 8210</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker/recipes/index.html">Docker recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../style.html">Contributing Style Guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">VSI Common</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Linux Utilities</a></li>
      <li class="breadcrumb-item active">Array Manipulation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/linux/elements.auto.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="array-manipulation">
<h1>Array Manipulation<a class="headerlink" href="#array-manipulation" title="Permalink to this heading"></a></h1>
<dl class="bash file">
<dt class="sig sig-object bash" id="file-elements.bsh">
<span class="sig-name descname"><span class="pre">elements.bsh</span></span><a class="headerlink" href="#file-elements.bsh" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Set of -euE safe functions to make <code class="docutils literal notranslate"><span class="pre">bash</span></code> array manipulation easy</p>
<p>Set of functions for deleting, prepending and appending without repetition. Versions using actual <code class="docutils literal notranslate"><span class="pre">Bash</span></code> arrays are suffixed with an _a, else it works on delimiter (IFS) separated string</p>
<p>These functions use variable indirection when possible to make using them friendlier.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Not intended for POSIX sh, works on bash and others like ksh</p>
</div>
<dl class="bash function">
<dt class="sig sig-object bash" id="function-elements.bsh dynamic_set_a">
<span class="sig-name descname"><span class="pre">dynamic_set_a</span></span><a class="headerlink" href="#function-elements.bsh dynamic_set_a" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - Name of array to be set</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">$2...</span></code>] - Values to set</p></li>
</ul>
</dd>
</dl>
<p>Dynamically set an array to values from arguments</p>
<p class="rubric">Example</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dynamic_set_a<span class="w"> </span>my_array_name<span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="s2">&quot;2 2&quot;</span><span class="w"> </span><span class="m">33</span>
<span class="c1"># Is like executing</span>
<span class="c1"># my_array_name=(11 &quot;2 2&quot; 33)</span>
</pre></div>
</div>
<dl class="bash function">
<dt class="sig sig-object bash" id="function-elements.bsh dynamic_set">
<span class="sig-name descname"><span class="pre">dynamic_set</span></span><a class="headerlink" href="#function-elements.bsh dynamic_set" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - Name of variable to be set</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$2</span></code> - Value to set</p></li>
</ul>
</dd>
</dl>
<p>Dynamically set a variable to a value. There are a number of properties that need to be preserved when setting a variable, export, local, global, etc… This method will allow you to indirectly set a variable while preserving these properties.</p>
<p class="rubric">Example</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dynamic_set<span class="w"> </span>my_name<span class="w"> </span><span class="s1">&#39;11 &quot;2 2&quot; 33&#39;</span>
<span class="c1"># Is like executing</span>
<span class="c1"># my_array_name=&#39;11 &quot;2 2&quot; 33&#39;</span>
</pre></div>
</div>
<dl class="bash function">
<dt class="sig sig-object bash" id="function-elements.bsh clear_a">
<span class="sig-name descname"><span class="pre">clear_a</span></span><a class="headerlink" href="#function-elements.bsh clear_a" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - Name of array to be cleared</p>
</dd>
<dt class="field-even">Output<span class="colon">:</span></dt>
<dd class="field-even"><p>Returns <code class="docutils literal notranslate"><span class="pre">1</span></code> on invalid variable name</p>
</dd>
</dl>
<p>Slightly safer indirect clear array</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Still uses eval on older versions of bash, but makes sure the variable name appears valid</p>
</div>
<dl class="bash function">
<dt class="sig sig-object bash" id="function-elements.bsh remove_element_a">
<span class="sig-name descname"><span class="pre">remove_element_a</span></span><a class="headerlink" href="#function-elements.bsh remove_element_a" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - Name of array to be set</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$2</span></code> - Value to be removed</p></li>
</ul>
</dd>
</dl>
<p>Removes all instances of a value from an array</p>
<p class="rubric">Example</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">x</span><span class="o">=(</span><span class="m">11</span><span class="w"> </span><span class="m">22</span><span class="w"> </span><span class="m">33</span><span class="w"> </span><span class="m">22</span><span class="w"> </span><span class="m">44</span><span class="o">)</span>
remove_element_a<span class="w"> </span>x<span class="w"> </span><span class="m">22</span>
<span class="c1"># declare -a x=&#39;([0]=&quot;11&quot; [1]=&quot;33&quot; [2]=&quot;44&quot;)&#39;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The resulting array is sequentially indexed, which is not typical in <code class="docutils literal notranslate"><span class="pre">bash</span></code> when removing elements from an array</p>
</div>
<dl class="bash function">
<dt class="sig sig-object bash" id="function-elements.bsh remove_element">
<span class="sig-name descname"><span class="pre">remove_element</span></span><a class="headerlink" href="#function-elements.bsh remove_element" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - Name of string to be set</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$2</span></code> - String to be removed</p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><p>[<code class="docutils literal notranslate"><span class="pre">IFS</span></code>] - IFS Separator used</p>
</dd>
</dl>
<p>String version of remove_element_a</p>
<dl class="bash function">
<dt class="sig sig-object bash" id="function-elements.bsh add_elements_a">
<span class="sig-name descname"><span class="pre">add_elements_a</span></span><a class="headerlink" href="#function-elements.bsh add_elements_a" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - Name of array to be set</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$2</span></code>… - Values to be appended</p></li>
</ul>
</dd>
</dl>
<p>Just appends to array, allows repeats. <code class="docutils literal notranslate"><span class="pre">${1}+=(&quot;${&#64;}&quot;)</span></code></p>
<dl class="bash function">
<dt class="sig sig-object bash" id="function-elements.bsh add_element_post_a">
<span class="sig-name descname"><span class="pre">add_element_post_a</span></span><a class="headerlink" href="#function-elements.bsh add_element_post_a" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - Name of array to be set</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$2</span></code> - Value to be appended</p></li>
</ul>
</dd>
</dl>
<p>Add a value to the end of an array</p>
<p>Removes all copies of the value from the array first, and then appends to the end of the array</p>
<p class="rubric">Example</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">x</span><span class="o">=(</span><span class="m">22</span><span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="m">22</span><span class="w"> </span><span class="m">33</span><span class="o">)</span>
add_element_post_a<span class="w"> </span>x<span class="w"> </span><span class="m">22</span>
<span class="nb">declare</span><span class="w"> </span>-p<span class="w"> </span>x
<span class="c1"># declare -a x=&#39;([0]=&quot;11&quot; [1]=&quot;33&quot; [2]=&quot;22&quot;)&#39;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The resulting array is sequentially indexed</p>
</div>
<dl class="bash function">
<dt class="sig sig-object bash" id="function-elements.bsh add_element_post">
<span class="sig-name descname"><span class="pre">add_element_post</span></span><a class="headerlink" href="#function-elements.bsh add_element_post" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - Name of string to be set</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$2</span></code> - String to be appended</p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><p>[<code class="docutils literal notranslate"><span class="pre">IFS</span></code>] - IFS Separator used</p>
</dd>
</dl>
<p>String version of <a class="reference internal" href="#function-elements.bsh add_element_post_a"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">add_element_post_a</span></code></a></p>
<dl class="bash function">
<dt class="sig sig-object bash" id="function-elements.bsh add_element_pre_a">
<span class="sig-name descname"><span class="pre">add_element_pre_a</span></span><a class="headerlink" href="#function-elements.bsh add_element_pre_a" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - Name of array to be set</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$2</span></code> - Value to be prepended</p></li>
</ul>
</dd>
</dl>
<p>Add a value to the beginning of an array</p>
<p>Removes all copies of the value from the array first, and then prepends to the beginning of the array</p>
<p class="rubric">Example</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">x</span><span class="o">=(</span><span class="m">11</span><span class="w"> </span><span class="m">22</span><span class="w"> </span><span class="m">33</span><span class="w"> </span><span class="m">22</span><span class="o">)</span>
add_element_pre_a<span class="w"> </span>x<span class="w"> </span><span class="m">22</span>
<span class="nb">declare</span><span class="w"> </span>-p<span class="w"> </span>x
<span class="c1"># declare -a x=&#39;([0]=&quot;22&quot; [1]=&quot;11&quot; [2]=&quot;33&quot;)&#39;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The resulting array is sequentially indexed</p>
</div>
<dl class="bash function">
<dt class="sig sig-object bash" id="function-elements.bsh add_element_pre">
<span class="sig-name descname"><span class="pre">add_element_pre</span></span><a class="headerlink" href="#function-elements.bsh add_element_pre" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - Name of string to be set</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$2</span></code> - String to be prepended</p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><p>[<code class="docutils literal notranslate"><span class="pre">IFS</span></code>] - IFS Separator used</p>
</dd>
</dl>
<p>String version of <a class="reference internal" href="#function-elements.bsh add_element_post_a"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">add_element_post_a</span></code></a></p>
<dl class="bash function">
<dt class="sig sig-object bash" id="function-elements.bsh cmp_elements_a">
<span class="sig-name descname"><span class="pre">cmp_elements_a</span></span><a class="headerlink" href="#function-elements.bsh cmp_elements_a" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - First array name</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$2</span></code> - Second array name</p></li>
</ul>
</dd>
<dt class="field-even">Output<span class="colon">:</span></dt>
<dd class="field-even"><p>Return Value: <code class="docutils literal notranslate"><span class="pre">0</span></code> - Identical, <code class="docutils literal notranslate"><span class="pre">1</span></code> - Not identical</p>
</dd>
</dl>
<p>Checks if two arrays are the same</p>
<dl class="bash function">
<dt class="sig sig-object bash" id="function-elements.bsh cmp_elements">
<span class="sig-name descname"><span class="pre">cmp_elements</span></span><a class="headerlink" href="#function-elements.bsh cmp_elements" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - First string name</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$2</span></code> - Second string name</p></li>
</ul>
</dd>
<dt class="field-even">Output<span class="colon">:</span></dt>
<dd class="field-even"><p>Return Value: <code class="docutils literal notranslate"><span class="pre">0</span></code> - Identical, <code class="docutils literal notranslate"><span class="pre">1</span></code> - Not identical</p>
</dd>
</dl>
<p>String version of <a class="reference internal" href="#function-elements.bsh cmp_elements_a"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">cmp_elements_a</span></code></a></p>
<dl class="bash function">
<dt class="sig sig-object bash" id="function-elements.bsh split_s">
<span class="sig-name descname"><span class="pre">split_s</span></span><a class="headerlink" href="#function-elements.bsh split_s" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - Target array name</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$2</span></code>… - Strings</p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>[<code class="docutils literal notranslate"><span class="pre">MIFS</span></code>] - A Multicharacter Internal Field Separator.</p></li>
<li><p>Default: //</p></li>
</ul>
</dd>
</dl>
<p>Splits an string into an array, using an <code class="docutils literal notranslate"><span class="pre">MIFS</span></code></p>
<p class="rubric">Author</p>
<p><a class="reference external" href="https://stackoverflow.com/a/47633817/4166604">https://stackoverflow.com/a/47633817/4166604</a></p>
<dl class="bash function">
<dt class="sig sig-object bash" id="function-elements.bsh join_a">
<span class="sig-name descname"><span class="pre">join_a</span></span><a class="headerlink" href="#function-elements.bsh join_a" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - Target string name</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$2</span></code>… - Array elements</p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>[<code class="docutils literal notranslate"><span class="pre">MIFS</span></code>] - A Multicharacter Internal Field Separator.</p></li>
<li><p>Default: //</p></li>
</ul>
</dd>
<dt class="field-odd">Return Value<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">0</span></code> - Success</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code> - No elements were provided. This is done to create a distinction between <code class="docutils literal notranslate"><span class="pre">join_a</span> <span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">join_a</span> <span class="pre">x</span> <span class="pre">&quot;&quot;</span></code>.</p></li>
</ul>
</dd>
</dl>
<p>Joins an array into a string, using an <code class="docutils literal notranslate"><span class="pre">MIFS</span></code></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When <code class="docutils literal notranslate"><span class="pre">1</span></code> is returned, this is the only time the output is not compatible with <a class="reference internal" href="#function-elements.bsh split_s"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">split_s</span></code></a>.</p>
</div>
<dl class="bash function">
<dt class="sig sig-object bash" id="function-elements.bsh join_a_out">
<span class="sig-name descname"><span class="pre">join_a_out</span></span><a class="headerlink" href="#function-elements.bsh join_a_out" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - Hex code for IFS</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$2</span></code>… - Strings</p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>[<code class="docutils literal notranslate"><span class="pre">MIFS</span></code>] - A Multicharacter Internal Field Separator, using awk escape format. (Except for null, which is a double backslash \x00).</p></li>
<li><p>Default: //</p></li>
<li><p>Note: If you are using “” or $’’ notation, you will need “\\x00”</p></li>
</ul>
</dd>
</dl>
<p>Instead of storing the value to a variable, this outputs to stdout. Unlike <a class="reference internal" href="#function-elements.bsh join_a"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">join_a</span></code></a>, <a class="reference internal" href="#function-elements.bsh join_a_out"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">join_a_out</span></code></a> can handle special characters, like null. Because macOS awk is so difficult, instead of ‘x00’ for null, use ‘\x00’. No other form of null will work on macOS. All other sed escape character should work.</p>
<p class="rubric">Author</p>
<p><a class="reference external" href="https://superuser.com/a/720157/352118">https://superuser.com/a/720157/352118</a></p>
<dl class="bash function">
<dt class="sig sig-object bash" id="function-elements.bsh is_array">
<span class="sig-name descname"><span class="pre">is_array</span></span><a class="headerlink" href="#function-elements.bsh is_array" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - variable name</p></li>
</ul>
</dd>
<dt class="field-even">Output<span class="colon">:</span></dt>
<dd class="field-even"><p>Returns <code class="docutils literal notranslate"><span class="pre">0</span></code> if variable is an array, else <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd>
</dl>
<p>Determines if <code class="docutils literal notranslate"><span class="pre">$1</span></code> is an array or not. If it is not defined, still returns <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
<dl class="bash function">
<dt class="sig sig-object bash" id="function-elements.bsh is_associative_array">
<span class="sig-name descname"><span class="pre">is_associative_array</span></span><a class="headerlink" href="#function-elements.bsh is_associative_array" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - variable name</p></li>
</ul>
</dd>
<dt class="field-even">Output<span class="colon">:</span></dt>
<dd class="field-even"><p>Returns <code class="docutils literal notranslate"><span class="pre">0</span></code> if variable is an associative array, else <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd>
</dl>
<p>Determines if <code class="docutils literal notranslate"><span class="pre">$1</span></code> is an associative array or not. If it is not defined, still returns <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
<dl class="bash function">
<dt class="sig sig-object bash" id="function-elements.bsh to_array">
<span class="sig-name descname"><span class="pre">to_array</span></span><a class="headerlink" href="#function-elements.bsh to_array" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - variable name</p></li>
</ul>
</dd>
</dl>
<p>Convert an string to an array, honoring quotes and newlines</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nv">x</span><span class="o">=</span><span class="s1">$&#39;11 &quot;2\n2&quot; &quot;3 \t 3 &quot; &quot;&quot;&#39;</span>
$<span class="w"> </span>to_array<span class="w"> </span>x
$<span class="w"> </span><span class="nb">declare</span><span class="w"> </span>-p<span class="w"> </span>x
<span class="nb">declare</span><span class="w"> </span>-a<span class="w"> </span><span class="nv">x</span><span class="o">=([</span><span class="m">0</span><span class="o">]=</span><span class="s2">&quot;11&quot;</span><span class="w"> </span><span class="o">[</span><span class="m">1</span><span class="o">]=</span><span class="s1">$&#39;2\n2&#39;</span><span class="w"> </span><span class="o">[</span><span class="m">2</span><span class="o">]=</span><span class="s1">$&#39;3 \t 3&#39;</span><span class="w"> </span><span class="o">[</span><span class="m">3</span><span class="o">]=</span><span class="s2">&quot;&quot;</span><span class="o">)</span>
</pre></div>
</div>
<p class="rubric">Bugs</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nv">x</span><span class="o">=</span><span class="s1">&#39;&quot;f\o\\o&quot; f\o\\o &#39;</span><span class="se">\&#39;</span><span class="s1">&#39;f\o\\o&#39;</span><span class="se">\&#39;</span>
$<span class="w"> </span><span class="nb">eval</span><span class="w"> </span><span class="s2">&quot;y=(</span><span class="si">${</span><span class="nv">x</span><span class="si">}</span><span class="s2">)&quot;</span>
$<span class="w"> </span>to_array<span class="w"> </span>x
$<span class="w"> </span><span class="nb">declare</span><span class="w"> </span>-p<span class="w"> </span>x
$<span class="w"> </span><span class="nb">declare</span><span class="w"> </span>-p<span class="w"> </span>y
<span class="nb">declare</span><span class="w"> </span>-a<span class="w"> </span><span class="nv">x</span><span class="o">=([</span><span class="m">0</span><span class="o">]=</span><span class="s2">&quot;f\\o\\\\o&quot;</span><span class="w"> </span><span class="o">[</span><span class="m">1</span><span class="o">]=</span><span class="s2">&quot;fo\\o&quot;</span><span class="w"> </span><span class="o">[</span><span class="m">2</span><span class="o">]=</span><span class="s2">&quot;f\\o\\\\o&quot;</span><span class="o">)</span>
<span class="nb">declare</span><span class="w"> </span>-a<span class="w"> </span><span class="nv">y</span><span class="o">=([</span><span class="m">0</span><span class="o">]=</span><span class="s2">&quot;f\\o\\o&quot;</span><span class="w"> </span><span class="o">[</span><span class="m">1</span><span class="o">]=</span><span class="s2">&quot;fo\\o&quot;</span><span class="w"> </span><span class="o">[</span><span class="m">2</span><span class="o">]=</span><span class="s2">&quot;f\\o\\\\o&quot;</span><span class="o">)</span>
<span class="c1"># Only the double backslash in double quotes comes out wrong, due to a bug in xargs? To get around this bug, use ``eval`` instead</span>
</pre></div>
</div>
<dl class="bash function">
<dt class="sig sig-object bash" id="function-elements.bsh array_length">
<span class="sig-name descname"><span class="pre">array_length</span></span><a class="headerlink" href="#function-elements.bsh array_length" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - Array name</p></li>
</ul>
</dd>
<dt class="field-even">Output<span class="colon">:</span></dt>
<dd class="field-even"><p><em>stdout</em> - number of elements in the array. -1 for variable not defined.</p>
</dd>
</dl>
<p>Echoes out the length of the array. If the variable is not defined, echos -1.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Does not differentiate between an array of length 1 and a non-array variable. Use <a class="reference internal" href="#function-elements.bsh is_array"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">is_array</span></code></a> for that</p>
</div>
<dl class="bash function">
<dt class="sig sig-object bash" id="function-elements.bsh subtract_array">
<span class="sig-name descname"><span class="pre">subtract_array</span></span><a class="headerlink" href="#function-elements.bsh subtract_array" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - Array 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$2</span></code> - Array 2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$3</span></code> - Destination Array</p></li>
</ul>
</dd>
</dl>
<p>Destination array becomes values of array 2 not in array 1 (1 - 2). The
destination array name can be the same as Array 1 or 2.</p>
<dl class="bash function">
<dt class="sig sig-object bash" id="function-elements.bsh array_to_variable">
<span class="sig-name descname"><span class="pre">array_to_variable</span></span><a class="headerlink" href="#function-elements.bsh array_to_variable" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - Array name</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$2</span></code> - Variable name prefix</p></li>
</ul>
</dd>
</dl>
<p>Converts an array to a set of variables, starting with the prefix <code class="docutils literal notranslate"><span class="pre">${2}_</span></code> numbered from 1 to N in sequential order, even if there are holes in the array.</p>
<dl class="bash function">
<dt class="sig sig-object bash" id="function-elements.bsh variables_to_array">
<span class="sig-name descname"><span class="pre">variables_to_array</span></span><a class="headerlink" href="#function-elements.bsh variables_to_array" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - Variable name prefix</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$2</span></code> - Array name</p></li>
</ul>
</dd>
</dl>
<p>Converts a set of variables to an array, starting with the prefix <code class="docutils literal notranslate"><span class="pre">${1}_</span></code> numbered from 1 to N in sequential order, stops as soon as one does not exist.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Will not detect variables that are declared but unassigned, will work with variables set to null.</p>
</div>
<dl class="bash function">
<dt class="sig sig-object bash" id="function-elements.bsh all_variables_to_array">
<span class="sig-name descname"><span class="pre">all_variables_to_array</span></span><a class="headerlink" href="#function-elements.bsh all_variables_to_array" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Same as <a class="reference internal" href="#function-elements.bsh variables_to_array"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">variables_to_array</span></code></a>, but can skip indexing numbers</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#function-elements.bsh variables_to_array"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">variables_to_array</span></code></a></dt><dd><p>Sequential only version of function</p>
</dd>
</dl>
</div>
<dl class="bash function">
<dt class="sig sig-object bash" id="function-elements.bsh serialize_array">
<span class="sig-name descname"><span class="pre">serialize_array</span></span><a class="headerlink" href="#function-elements.bsh serialize_array" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Serializes an array (or associative array in bash 4 or newer) into a single string</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - Name of array</p>
</dd>
<dt class="field-even">Output<span class="colon">:</span></dt>
<dd class="field-even"><p><em>stdout</em> - The serialized string representing the array</p>
</dd>
</dl>
<p>Handles any array, all special characters without issue, for both key and value, except <code class="docutils literal notranslate"><span class="pre">NULL</span></code> which isn’t allowed in any bash variable anyways. However, the results will not differentiate between an unassigned array and an empty array.</p>
<p>An array is converted to a string using the following schema</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Array
&quot;a&quot; + (index0 + &quot; &quot; + length_of_value0 + &quot; &quot; + value0) + (index1 + ...
Associative Array
&quot;A&quot; + (length_of_key0 + &quot; &quot; + key0 + length_of_value0 + &quot; &quot; + value0) + ...
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">x</span><span class="o">=(</span><span class="m">11</span><span class="w"> </span><span class="m">22</span><span class="w"> </span><span class="m">33</span><span class="o">)</span>
<span class="nb">unset</span><span class="w"> </span>x<span class="o">[</span><span class="m">1</span><span class="o">]</span>
<span class="nv">y</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>serialize_array<span class="w"> </span>x<span class="k">)</span><span class="s2">&quot;</span>
<span class="c1"># &quot;a0 2 112 2 33&quot;</span>

deserialize_array<span class="w"> </span>x2<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">y</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="c1"># x and x2 are identical</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#function-elements.bsh deserialize_array"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">deserialize_array</span></code></a></p>
</div>
<dl class="bash function">
<dt class="sig sig-object bash" id="function-elements.bsh deserialize_array">
<span class="sig-name descname"><span class="pre">deserialize_array</span></span><a class="headerlink" href="#function-elements.bsh deserialize_array" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Convert a serialized array (string) into an array or associative array.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$1</span></code> - Output variable name</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$2</span></code> - Serialized string</p></li>
</ul>
</dd>
</dl>
<p>If you do not declare the output variable before calling <a class="reference internal" href="#function-elements.bsh deserialize_array"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">deserialize_array</span></code></a>, it will attempt to create it. This works pretty well for indexed arrays, but associative arrays are trickier. On bash 4.2 or newer, it will create it as a global variable if it is not already defined as an associative array. This makes controlling the scope difficult and does not work in older versions of bash. It’s best to define the variable before calling, if possible.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#function-elements.bsh serialize_array"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">serialize_array</span></code></a></p>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="dir_tools.auto.html" class="btn btn-neutral float-left" title="Directory Tools" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="file_tools.auto.html" class="btn btn-neutral float-right" title="File Tools" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Vision Systems, Inc.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>