<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>J.U.S.T. &mdash; VSI Common 0.2.2+1dev documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="J.U.S.T. Files" href="files.html" />
    <link rel="prev" title="Getting started developing with just" href="quickstart.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            VSI Common
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">J.U.S.T. Useful Simple Tasking</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="installation.html">J.U.S.T. Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart_user.html">J.U.S.T. Quickstart Guide for Users</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html">Getting started developing with <code class="docutils literal notranslate"><span class="pre">just</span></code></a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">J.U.S.T.</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#error-handling">Error handling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="files.html">J.U.S.T. Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="just-tab.auto.html">Tab completion</a></li>
<li class="toctree-l2"><a class="reference internal" href="just_common.auto.html">Just Common Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="just_env.auto.html">Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="just_functions.auto.html">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="just_version.auto.html">Just Version</a></li>
<li class="toctree-l2"><a class="reference internal" href="just_wrap.auto.html">J.U.S.T. Wrap</a></li>
<li class="toctree-l2"><a class="reference internal" href="new_just.auto.html">New J.U.S.T.</a></li>
<li class="toctree-l2"><a class="reference internal" href="just_diff.auto.html">Updating a just environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugins/index.html">J.U.S.T. Plugins</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../linux/index.html">Linux Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../windows/index.html">Windows Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tests/index.html">Unit Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/modules.html">vsi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker/recipes/get-pipenv.auto.html">Get Pipenv</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker/recipes/index.html">Docker recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../style.html">Contributing Style Guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">VSI Common</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">J.U.S.T. Useful Simple Tasking</a></li>
      <li class="breadcrumb-item active">J.U.S.T.</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/just/just.auto.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="j-u-s-t">
<span id="just"></span><h1>J.U.S.T.<a class="headerlink" href="#j-u-s-t" title="Permalink to this heading"></a></h1>
<dl class="bash file">
<dt class="sig sig-object bash" id="file-just">
<span class="sig-name descname"><span class="pre">just</span></span><a class="headerlink" href="#file-just" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>When working on a project, it often becomes necessary to run many long commands. Similar to how a makefile connects <cite>targets</cite> with a string of commands, <cite>just</cite> gives an easy way to create a set of targets to execute easily. Unlike a makefile, it has two key distinctions</p>
<ul class="simple">
<li><p>It’s not a makefile, but uses a <a class="reference internal" href="files.html#file-Justfile"><code class="xref bash bash-file docutils literal notranslate"><span class="pre">Justfile</span></code></a> in bash instead. Bash is easier than make for simple tasks</p></li>
<li><p>It works on Windows (when bash is installed via Git for Windows or similar), macOS (which uses bash 3.2) and Linux with no additional dependencies.</p></li>
</ul>
<p class="rubric">Features</p>
<ul class="simple">
<li><p>Tab completion (<a class="reference internal" href="just-tab.auto.html#file-.just"><code class="xref bash bash-file docutils literal notranslate"><span class="pre">.just</span></code></a>)</p></li>
<li><p>Comment generated help</p></li>
<li><p>Subcommands (e.g. <code class="docutils literal notranslate"><span class="pre">just</span> <span class="pre">program</span> <span class="pre">run</span></code>, run can be a subcommand of the program target)</p></li>
<li><p>Executing multiple targets in one call</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="files.html#file-Justfile"><code class="xref bash bash-file docutils literal notranslate"><span class="pre">Justfile</span></code></a></dt><dd><p>Blah justfile</p>
</dd>
<dt><a class="reference internal" href="just-tab.auto.html#file-.just"><code class="xref bash bash-file docutils literal notranslate"><span class="pre">.just</span></code></a></dt><dd><p>Tab completion for bash</p>
</dd>
</dl>
</div>
<dl class="bash command">
<dt class="sig sig-object bash" id="command-just help">
<span class="sig-prename descclassname"><span class="pre">just</span> <span class="pre">help</span></span><a class="headerlink" href="#command-just help" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Print out basic help based on the comments it the <a class="reference internal" href="files.html#file-Justfile"><code class="xref bash bash-file docutils literal notranslate"><span class="pre">Justfile</span></code></a>. In order to achieve this, case statements and comments need to be structured in a specific way for the parser to pick up. The same mechanism is used by tab completion in <code class="docutils literal notranslate"><span class="pre">bash</span></code></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently this does not work for all <code class="docutils literal notranslate"><span class="pre">bash</span></code> cases. A few bash patterns are matched to make this behavior working, since bash does not have source reflection.</p>
</div>
<p class="rubric">Basic example:</p>
<p>In the simplest case, a regular case pattern followed by <code class="docutils literal notranslate"><span class="pre">)#</span></code> (with optional spaces) will be picked up by <a class="reference internal" href="#command-just help"><code class="xref bash bash-cmd docutils literal notranslate"><span class="pre">help</span></code></a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>foo<span class="o">)</span><span class="w"> </span><span class="c1"># Runs the foo routine</span>
</pre></div>
</div>
<p class="rubric">Long comment lines</p>
<p>A long comment can be split up into many lines by ending a line with <code class="docutils literal notranslate"><span class="pre">\</span></code> (that means no space after <code class="docutils literal notranslate"><span class="pre">\</span></code>), and the comment on the next line continue.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">command</span><span class="o">)</span><span class="w"> </span><span class="c1"># To write a long help message, end the line in a backslash (\) \</span>
<span class="w">         </span><span class="c1"># and start the next line with a # to continue the comment. \</span>
<span class="w">         </span><span class="c1"># Can be as long as you want.</span>
</pre></div>
</div>
<p class="rubric">Multiple targets at once:</p>
<p>The pattern <code class="docutils literal notranslate"><span class="pre">pattern1|pattern2...)#</span></code> will also be parsed as a single help entry</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cat<span class="p">|</span>dog<span class="o">)</span><span class="w"> </span><span class="c1"># Routine for cats and dogs</span>
</pre></div>
</div>
<p class="rubric">Multiple targets:</p>
<p>You can actually add any of the other patterns as a comment for the sole purpose of populating the help and tab completion</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># cat) # Comment just for cat</span>
<span class="c1"># dog) # Comment just for dog</span>
cat<span class="p">|</span><span class="se">\</span>
dog<span class="o">)</span><span class="w"> </span><span class="c1"># A comment here would be for both cat and dog, but not needed</span>
</pre></div>
</div>
<p class="rubric">Subcommand example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>foo_cat<span class="o">)</span><span class="w"> </span><span class="c1"># Runs the foo routine for cat</span>
foo_dog<span class="o">)</span><span class="w"> </span><span class="c1"># Runs the foo routine for dog</span>
</pre></div>
</div>
<p class="rubric">Commenting extra help subcommand:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># foo_a) # Runs the foo routine for a</span>
<span class="c1"># foo_b) # Runs the foo routine for b</span>
foo_*<span class="o">)</span>
<span class="c1">## foo_c) # Runs the foo routine for c, but don&#39;t tell anyone</span>
</pre></div>
</div>
<p>The foo_a and foo_b are added to tab complete and help, but using more than one <cite>#</cite> will disable that line all together. So foo_c is ignored and does not show up in help or tab complete.</p>
<p class="rubric">Advanced Expansion subcommand array:</p>
<p>When you have a list of subcommands for a command in an array, then that can use that array to generate help/tab completion entries</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example array</span>
<span class="nv">MY_ARRAY</span><span class="o">=(</span>cat<span class="w"> </span>dog<span class="o">)</span>

...

<span class="c1"># catch_{MY_ARRAY}) #Catch animal</span>
catch_*<span class="o">)</span>
</pre></div>
</div>
<p>Help, tab complete, etc. will automatically be expanded to cat and dog. Very useful for <em>DRY</em> and for programmatically determined subtargets. The subtarget name is appended to the end of the comment. So this example will read</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">catch</span>
    <span class="n">cat</span> <span class="o">-</span> <span class="n">Catch</span> <span class="n">animal</span> <span class="n">cat</span>
    <span class="n">dog</span> <span class="o">-</span> <span class="n">Catch</span> <span class="n">animal</span> <span class="n">dog</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Help and tab completion use the exact same mechanism. Everything that adds an entry to the help is adding an entry to tab completion.</p>
</div>
<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-JUST_PRELOAD">
<span class="sig-name descname"><span class="pre">JUST_PRELOAD</span></span><a class="headerlink" href="#envvar-JUST_PRELOAD" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Preloads a special source file before anything else loads.</p>
<p>In rare case that the project environment file is too late in the just loading, use this file. It is suggested to set the value in the <span class="target" id="index-0"></span><a class="reference internal" href="just_common.auto.html#envvar-JUST_SETUP_SCRIPT"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">JUST_SETUP_SCRIPT</span></code></a>, which defaults to setup.env.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is left around for debug purposes really, probably never needed.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Must <strong>not</strong> be set in the <a class="reference internal" href="files.html#just-project-env-files"><span class="std std-ref">project environment files</span></a> i.e. cannot be set in <code class="docutils literal notranslate"><span class="pre">local.env</span></code>, project env file or <code class="docutils literal notranslate"><span class="pre">local_post.env</span></code>. It will <strong>not</strong> have the desired effect, as this is too late in the load chain. Instead, it can either be exported before calling <a class="reference internal" href="#file-just"><code class="xref bash bash-file docutils literal notranslate"><span class="pre">just</span></code></a> (not recommended unless in a container or VM) or exported in the <a class="reference internal" href="files.html#just-setup-file"><span class="std std-ref">setup file</span></a>.</p>
</div>
<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-JUST_VERBOSE">
<span class="sig-name descname"><span class="pre">JUST_VERBOSE</span></span><a class="headerlink" href="#envvar-JUST_VERBOSE" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>1</strong> - Prints any dryrun-able commands as they are executed</p></li>
<li><p><strong>2</strong> - Basic bash verbose. Uses <code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">-v</span></code></p></li>
<li><p><strong>3</strong> - Fully verbose. <code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">-xv</span></code> plus a useful <code class="docutils literal notranslate"><span class="pre">PS4</span></code></p></li>
</ul>
</dd>
</dl>
<p><span class="target" id="index-1"></span><a class="reference internal" href="#envvar-JUST_VERBOSE"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">JUST_VERBOSE</span></code></a> sets verbosity level of just execution. Useful to debug problems, especially in the just executable.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Must <strong>not</strong> be set in the <a class="reference internal" href="files.html#just-project-env-files"><span class="std std-ref">project environment files</span></a> i.e. cannot be set in <code class="docutils literal notranslate"><span class="pre">local.env</span></code>, project env file or <code class="docutils literal notranslate"><span class="pre">local_post.env</span></code>. It will <strong>not</strong> have the desired effect, as this is too late in the load chain. Instead, it can either be exported before calling <a class="reference internal" href="#file-just"><code class="xref bash bash-file docutils literal notranslate"><span class="pre">just</span></code></a> (not recommended unless in a container or VM) or exported in the <a class="reference internal" href="files.html#just-setup-file"><span class="std std-ref">setup file</span></a>.</p>
</div>
<p>..envvar:: JUST_IGNORE_EXIT_CODES</p>
<p>A regular expression that represents exit codes that will result in a just stack trace not being printed out. This is good for handling errors that are expected to happen, and do not need a misleading stack track when you know the problem is a known issue, like a missing file, etc… Default: <code class="docutils literal notranslate"><span class="pre">0</span></code>, (disabled).</p>
<p class="rubric">Examples:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Justfile example</span>
just_target<span class="o">)</span>
<span class="w">  </span><span class="nb">local</span><span class="w"> </span><span class="nv">JUST_IGNORE_EXIT_CODES</span><span class="o">=</span><span class="m">2</span>
<span class="w">  </span>bash<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;exit 2&quot;</span>
<span class="w">  </span><span class="p">;;</span>

<span class="c1"># More example values</span>
<span class="m">25</span><span class="w">      </span><span class="c1"># Only 25 is ignored</span>
<span class="m">24</span>$<span class="p">|</span>^25<span class="w"> </span><span class="c1"># 24 or 25 is ignored; ^ is implied at the beginning and $ at the end. So it is really: &quot;^24$|^25$&quot;</span>
<span class="m">2</span>.<span class="w">      </span><span class="c1"># 20-29</span>
.*<span class="w">      </span><span class="c1"># All exit codes</span>
<span class="m">3</span>.$<span class="p">|</span>^72<span class="w"> </span><span class="c1"># 30-39 or 72</span>
$<span class="p">|</span><span class="m">5</span><span class="p">|</span>^<span class="w">   </span><span class="c1"># Any code with a 5 in it, 5, 15, 25... 50-59, etc</span>
</pre></div>
</div>
<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-JUST_IN_SCRIPT">
<span class="sig-name descname"><span class="pre">JUST_IN_SCRIPT</span></span><a class="headerlink" href="#envvar-JUST_IN_SCRIPT" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p><span class="target" id="index-2"></span><a class="reference internal" href="#envvar-JUST_IN_SCRIPT"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">JUST_IN_SCRIPT</span></code></a> is an unexported variable set by <a class="reference internal" href="#file-just"><code class="xref bash bash-file docutils literal notranslate"><span class="pre">just</span></code></a>. Useful in other scripts for determining if they are being sourced by <a class="reference internal" href="#file-just"><code class="xref bash bash-file docutils literal notranslate"><span class="pre">just</span></code></a> or not.</p>
<p>Currently one use of this is dual purposing a file, so that it behaves differently when sourced by just or by a user on the prompts</p>
<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-JUST_USER_CWD">
<span class="sig-name descname"><span class="pre">JUST_USER_CWD</span></span><a class="headerlink" href="#envvar-JUST_USER_CWD" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Although <a class="reference internal" href="#file-just"><code class="xref bash bash-file docutils literal notranslate"><span class="pre">just</span></code></a> does not have to be run from the just project’s root directory, some commands (e.g., <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">compose</span></code>, but also parts of <code class="docutils literal notranslate"><span class="pre">just</span></code> proper) expect to be run from the project’s root directory. Typically, the <a class="reference internal" href="files.html#file-Justfile"><code class="xref bash bash-file docutils literal notranslate"><span class="pre">Justfile</span></code></a> will <code class="docutils literal notranslate"><span class="pre">cd</span></code> from the current working directory to the project’s root directory, as specified by <code class="docutils literal notranslate"><span class="pre">${PROJECT_PREFIX}_CWD</span></code> (thereafter the project’s CWD). <span class="target" id="index-3"></span><a class="reference internal" href="#envvar-JUST_USER_CWD"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">JUST_USER_CWD</span></code></a> tracks the working directory from which a <code class="docutils literal notranslate"><span class="pre">just</span></code> command was run.</p>
<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-JUSTFILE">
<span class="sig-name descname"><span class="pre">JUSTFILE</span></span><a class="headerlink" href="#envvar-JUSTFILE" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>An optional variable for the location of <a class="reference internal" href="files.html#file-Justfile"><code class="xref bash bash-file docutils literal notranslate"><span class="pre">Justfile</span></code></a>. The default <a class="reference internal" href="files.html#file-Justfile"><code class="xref bash bash-file docutils literal notranslate"><span class="pre">Justfile</span></code></a> that <a class="reference internal" href="just_common.auto.html#function-just_common.bsh _just_load_justfile"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">just_common.bsh</span> <span class="pre">_just_load_justfile</span></code></a> searches for is called <code class="docutils literal notranslate"><span class="pre">Justfile</span></code>. In order to change this default behavior, this environment variable needs to be set so that <a class="reference internal" href="#file-just"><code class="xref bash bash-file docutils literal notranslate"><span class="pre">just</span></code></a> knows what file name to look for, usually not recommended</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="just_common.auto.html#function-just_common.bsh _just_load_justfile"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">just_common.bsh</span> <span class="pre">_just_load_justfile</span></code></a></dt><dd><p>Function responsible for loading <a class="reference internal" href="files.html#file-Justfile"><code class="xref bash bash-file docutils literal notranslate"><span class="pre">Justfile</span></code></a></p>
</dd>
<dt><a class="reference internal" href="../linux/dir_tools.auto.html#function-dir_tools.bsh parent_find_files"><code class="xref bash bash-func docutils literal notranslate"><span class="pre">dir_tools.bsh</span> <span class="pre">parent_find_files</span></code></a></dt><dd><p>Function responsible for finding <a class="reference internal" href="files.html#file-Justfile"><code class="xref bash bash-file docutils literal notranslate"><span class="pre">Justfile</span></code></a></p>
</dd>
<dt><span class="target" id="index-4"></span><a class="reference internal" href="#envvar-JUSTFILE"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">JUSTFILE</span></code></a></dt><dd><p>Changes the name of the default <a class="reference internal" href="files.html#file-Justfile"><code class="xref bash bash-file docutils literal notranslate"><span class="pre">Justfile</span></code></a> to a different filename when creating a new project</p>
</dd>
</dl>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Must <strong>not</strong> be set in the <a class="reference internal" href="files.html#just-project-env-files"><span class="std std-ref">project environment files</span></a> i.e. cannot be set in <code class="docutils literal notranslate"><span class="pre">local.env</span></code>, project env file or <code class="docutils literal notranslate"><span class="pre">local_post.env</span></code>. It will <strong>not</strong> have the desired effect, as this is too late in the load chain. Instead, it can either be exported before calling <a class="reference internal" href="#file-just"><code class="xref bash bash-file docutils literal notranslate"><span class="pre">just</span></code></a> (not recommended unless in a container or VM) or exported in the <a class="reference internal" href="files.html#just-setup-file"><span class="std std-ref">setup file</span></a>.</p>
</div>
<section id="error-handling">
<h2>Error handling<a class="headerlink" href="#error-handling" title="Permalink to this heading"></a></h2>
<p>An error in a <a class="reference internal" href="files.html#file-Justfile"><code class="xref bash bash-file docutils literal notranslate"><span class="pre">Justfile</span></code></a> can be extremely hard to debug. Especially when the bug manifests itself deep inside <a class="reference internal" href="#file-just"><code class="xref bash bash-file docutils literal notranslate"><span class="pre">just</span></code></a>. For this reason, it is customary to turn <code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">-eu</span></code> on, so that if a bash command returns false, the script stops. (<code class="docutils literal notranslate"><span class="pre">-u</span></code> says that if a variable is used without being defined, to throw and error too).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">ERR</span></code> signal is also trapped by <a class="reference internal" href="#file-just"><code class="xref bash bash-file docutils literal notranslate"><span class="pre">just</span></code></a>. When any error occurs, a complete bash stack trace is printed to stdout upon exit.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Call</span> <span class="n">stack</span>
<span class="o">----------</span>
<span class="mi">993</span>  <span class="n">_Docker</span>          <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">just</span><span class="o">/</span><span class="n">vsi_common</span><span class="o">/</span><span class="n">linux</span><span class="o">/</span><span class="n">just_files</span><span class="o">/</span><span class="n">docker_functions</span><span class="o">.</span><span class="n">bsh</span>
<span class="mi">974</span>  <span class="n">Docker</span>           <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">just</span><span class="o">/</span><span class="n">vsi_common</span><span class="o">/</span><span class="n">linux</span><span class="o">/</span><span class="n">just_files</span><span class="o">/</span><span class="n">docker_functions</span><span class="o">.</span><span class="n">bsh</span>
<span class="mi">120</span>  <span class="n">caseify</span>          <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">just</span><span class="o">/</span><span class="n">vsi_common</span><span class="o">/</span><span class="n">Justfile</span>
<span class="mi">795</span>  <span class="n">justify</span>          <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">just</span><span class="o">/</span><span class="n">vsi_common</span><span class="o">/</span><span class="n">linux</span><span class="o">/</span><span class="n">just_files</span><span class="o">/</span><span class="n">just_functions</span><span class="o">.</span><span class="n">bsh</span>
<span class="mi">281</span>  <span class="n">main</span>             <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">just</span><span class="o">/</span><span class="n">vsi_common</span><span class="o">/</span><span class="n">linux</span><span class="o">/</span><span class="n">just</span>

<span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">just</span><span class="o">/</span><span class="n">vsi_common</span><span class="o">/</span><span class="n">linux</span><span class="o">/</span><span class="n">just_files</span><span class="o">/</span><span class="n">docker_functions</span><span class="o">.</span><span class="n">bsh</span><span class="p">:</span> <span class="n">line</span> <span class="mi">993</span><span class="p">:</span> <span class="n">Returned</span> <span class="mi">2</span>

<span class="n">Call</span> <span class="n">stack</span>
<span class="o">----------</span>
<span class="mi">21</span>   <span class="n">caseify</span>  <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">just</span><span class="o">/</span><span class="n">vsi_common</span><span class="o">/</span><span class="n">Justfile</span>
<span class="mi">795</span>  <span class="n">justify</span>  <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">just</span><span class="o">/</span><span class="n">vsi_common</span><span class="o">/</span><span class="n">linux</span><span class="o">/</span><span class="n">just_files</span><span class="o">/</span><span class="n">just_functions</span><span class="o">.</span><span class="n">bsh</span>
<span class="mi">281</span>  <span class="n">main</span>     <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">just</span><span class="o">/</span><span class="n">vsi_common</span><span class="o">/</span><span class="n">linux</span><span class="o">/</span><span class="n">just</span>

<span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">just</span><span class="o">/</span><span class="n">vsi_common</span><span class="o">/</span><span class="n">Justfile</span><span class="p">:</span> <span class="n">line</span> <span class="mi">21</span><span class="p">:</span> <span class="n">Returned</span> <span class="mi">2</span>
</pre></div>
</div>
<p>Sometimes there are multiple stacks due to the way <cite>bash</cite> works. However the first one is usually the stack of interest. This stack printout says an error occurred in <code class="docutils literal notranslate"><span class="pre">_Docker</span></code> line 993, and can be tracked down to <code class="docutils literal notranslate"><span class="pre">Justfile</span></code> line 120. In this case, a <code class="docutils literal notranslate"><span class="pre">docker</span></code> command returned non-zero</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="quickstart.html" class="btn btn-neutral float-left" title="Getting started developing with just" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="files.html" class="btn btn-neutral float-right" title="J.U.S.T. Files" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Vision Systems, Inc.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>