#!/usr/bin/env false

function troubleshoot_nvidia_docker()
{
  docker run -it --rm --gpus=all "${TERRA_WRIVA_BASE_IMAGE}" nvidia-smi
}

function error_nvidia_docker()
{
  echo "${RED}NVIDIA docker does not appear to be working. If you have NVIDIA"
  echo "GPUs that you expect to be working, you may have 'no-cgroups=true' in"
  echo "/etc/nvidia-container-runtime/config.toml. Either have an admin revert"
  echo "this to false, or set ${YELLOW}TERRA_WRIVA_PRIVILEGED_MODE=true"
  echo "${RED}in your ${YELLOW}local.env ${RED}file.${NC}"
}
