.. default-domain:: bash

.. _get_pipenv:

==========
Get Pipenv
==========

.. file:: get_pipenv

Functions to help install pipenv with only python installed and no elevated privileges, no ``pip`` or ``sudo`` required

.. function:: install_pipenv

Install pipenv into a virtualenv. Does not need to have pip already installed and does not use privileged permissions. Makes use of the virtualenv zipapp, as per https://virtualenv.pypa.io/en/latest/installation.html#via-zipapp

:Arguments: [``$1``] - The location of the virtualenv, defaults to ``${PIPENV_VIRTUALENV-${HOME}/pipenv}``
:Parameters: * ``PIPENV_PYTHON`` - Optionally specify which python you want to use. Default is to favor python3, trying ``python3``, ``python``, then finally falling back to ``python2``.
             * ``PIPENV_VERSION`` - The version of pipenv to install, defaults - ``2018.11.26``
             * ``VIRTUALENV_PYZ`` - Name of downloaded ``virtualenv.pyz``, else it will attempt to download it itself.

.. function:: setup_container_pipenv

Sets up some additional behavior, useful in a container. Creates a symlink in the path to ``pipenv`` and adds a ``fake_package`` script to the bin directory for faking out local packages in pipenv during container build stages.

:Arguments: * [``$1``] - The location of the virtualenv, defaults to ``${HOME}/pipenv``
            * [``$2``] - The location of the symlink for pipenv, defaults to ``/usr/local/bin/pipenv``

