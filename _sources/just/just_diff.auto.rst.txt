.. default-domain:: bash

===========================
Updating a just environment
===========================

There are over half a dozen files to a just environment, and keeping track of what changes from one version of just to another can be very difficult. :file:`just_diff` will give you a diff output of two subsequent calls to :file:`new_just`

.. file:: just_diff

Prints the difference between the output of :file:`new_just` for two different versions

:Arguments: * ``$1`` - Version 1 to compare with. Can be a SHA, tag, etc... Use -- to autodetect assuming external/vsi_common. Can also be ``--help`` to print :file:`new_just` help
            * ``$2`` - Version 2 to compare with. Can be a SHA, tag, etc... Use -- for autodetect HEAD assuming external/vsi_common
            * [``$3`` ...] - Flags to pass to :file:`new_just`
:Parameters: ``JUST_DIFF`` - The diff program used on two directories, such as ``meld``. Default: ``colordiff`` if it exists, else ``diff``.

Example
-------

Show the difference between your current version and the latest tag, assuming you are in vsi_common and have already checked out the newest commit

.. code-block::

  just_diff "$(git rev-parse HEAD)" "$(git describe --abbrev=0 --tags origin/master)"

Another use case, is in a ``just`` project, if you have checkout out the newest vsi_common commit, but not commit that change to the project:

.. code-block::

  just_diff -- --

